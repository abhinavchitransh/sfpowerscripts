{
  "id": "7915fcdb-f02a-43ae-92bd-494993a31e5d",
  "name": "sfpwowerscript-checkoutprojectfromartifact-task",
  "friendlyName": "Checkout the project from Git mentioned in the artifact",
  "description": "Use this utility task to checkout the mentioned commit from the build artifact, This task is part of DX@Scale/SFPowerscripts",
  "helpMarkDown": "",
  "category": "Utility",
  "author": "azlam.abdulsalam",
  "version": {
    "Major": 6,
    "Minor": 0,
    "Patch": 0
  },
  "runsOn": ["Agent"],
  "instanceNameFormat": "Checkout $(artifactname) from Git",
  "inputs": [
    {
      "name": "versionControlProvider",
      "type": "pickList",
      "label": "Select the version control provider",
      "defaultValue": "github",
      "options": {
        "github": "GitHub",
        "github_enterprise": "GitHub Enterprise",
        "bitbucket": "BitBucket Cloud",
        "azure_repo": "Azure Repo",
        "other_git": "Other Git"
      },
      "required": false,
      "helpMarkDown": "Select a version control provider from the dropdown"
    },
    {
      "name": "github_connection",
      "type": "connectedService:github:OAuth,PersonalAccessToken",
      "label": "GitHub Connection",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "Specify the service connection name for your GitHub connection. Please note this service connection have permissions to write to the correspinding repostiory. Learn more about service connections [here](https://aka.ms/AA3am5s).",
      "visibleRule": "versionControlProvider = github"
    },
    {
      "name": "bitbucket_connection",
      "type": "connectedService:bitbucket:OAuth,PersonalAccessToken",
      "label": "BitBucket Connection",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "Specify the service connection name for your BitBucket connection. Please note this service connection have permissions to write to the correspinding repostiory. Learn more about service connections [here](https://aka.ms/AA3am5s).",
      "visibleRule": "versionControlProvider = bitbucket"
    },
    {
      "name": "github_enterprise_connection",
      "type": "connectedService:githubenterprise:OAuth,PersonalAccessToken",
      "label": "GitHub Enterprise Connection",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "Specify the service connection name for your Git Hub Enterprise connection. Please note this service connection have permissions to write to the correspinding repostiory. Learn more about service connections [here](https://aka.ms/AA3am5s).",
      "visibleRule": "versionControlProvider = github_enterprise"
    },
    {
      "name": "other_git_connection",
      "type": "connectedService:git:OAuth,PersonalAccessToken",
      "label": "Other Git Connection",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "Specify the service connection name for your Git  connection. Please note this service connection have permissions to write to the correspinding repostiory. Learn more about service connections [here](https://aka.ms/AA3am5s).",
      "visibleRule": "versionControlProvider = other_git"
    },
    {
      "name": "artifact",
      "type": "string",
      "label": "Name of the source artifact that needs to be checked out",
      "defaultValue": "_source",
      "required": true,
      "helpMarkDown": "Name of the artifact that is generated from the build pipeline  for a source format deployment, Please note this is not a generic utility and will only work for artifacts created by SFPowerkit"
    },
    {
      "name": "isTelemetryEnabled",
      "type": "boolean",
      "label": "Send Anonymous Usage Telemetry",
      "defaultValue": true,
      "required": true,
      "helpMarkDown": "Enabling this will help us to collect information on the tasks and improve services. All information collected is anonymised, please check code repository to understand what data is collected"
    }
  ],
  "OutputVariables": [
    {
      "name": "sfpowerscripts_checked_out_path",
      "description": "The path to the directory where the source code is checked out"
    }
  ],
  "execution": {
    "Node": {
      "target": "CheckoutProjectFromArtifactTask/CheckoutProjectFromArtifact.js"
    }
  }
}
